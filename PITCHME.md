---
# Rust Book 勉強会 \#8

@size[smaller](Rust のオブジェクト指向的な機能)

---
## おことわり
<hr/>

- Javaを引き合いに説明する場合が多々あります
- ...

---
## もくじ
<hr/>

@ol
- オブジェクト指向とは
- トレイトオブジェクト
- オブジェクト指向的実装例
@olend

---

- @css[text-white](オブジェクト指向とは)
- @css[text-gray](トレイトオブジェクト)
- @css[text-gray](オブジェクト指向的実装例)


---
## オブジェクト指向とは

次のような機能を持つプログラミング言語を一般的にオブジェクト指向言語と呼ぶ（ただし諸説あり）

@ul
- オブジェクト
- カプセル化
- 継承
@ulend

+++
### オブジェクト

Rust では `struct` または `enum` がオブジェクトに相当する。

オブジェクト指向的には、データとその振る舞いを一つにまとめて「オブジェクト」と呼ぶ

Rust では `struct` の定義の中にメソッドを含めて記述はしないが、これは文法上の見た目の違いだけで
これをオブジェクト指向的な「オブジェクト」と解釈して良いだろう。

@snap[east]
@box[text-gray](？Rust 界隈ではオブジェクト指向的な意味で「オブジェクト」という用語はあまり使われない。後述のトレイトオブジェクトでのみ「オブジェクト」の用語が使われる)
@snapend

+++
### カプセル化

ライブラリを利用する時に「余計なこと」を考えなくても済むようにするための機能

ライブラリ利用者から、実装詳細を隠して内部実装の変更が利用者のコードに影響を与えないことを保証する機能

Rust では公開（`pub`）かそうでないかをアイテムに対して指定することで、この機能を実現している

@snap[east]
@box[text-gray](`pub(crate)`とか`pub(self)`についてはわからんので質問しないように)
@snapend


+++
### 継承

Rust にはない。
---

- @css[text-gray](オブジェクト指向とは)
- @css[text-white](トレイトオブジェクト)
- @css[text-gray](オブジェクト指向的実装例)

---
## トレイトオブジェクト

### 動機

われわれが継承で欲しかったのは、コードの共有ではなく、ポリモーフィズムだったのだ

### ポリモーフィズム

@quote[ポリモーフィズム（英: Polymorphism）とは、プログラミング言語の型システムの性質を表すもので、プログラミング言語の各要素（定数、変数、式、オブジェクト、関数、メソッドなど）についてそれらが複数の型に属することを許すという性質を指す。](Wikipediaより)

